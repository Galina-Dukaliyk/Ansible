[Unit]
Description=Connecting MySQL Client from Compute Engine using the Cloud SQL Proxy
Documentation=https://cloud.google.com/sql/docs/mysql/connect-compute-engine
Requires=networking.service
After=networking.service

[Service]
WorkingDirectory=/usr/local/bin
ExecStart={{ cloud_sql_proxy_file_path }}/cloud_sql_proxy -dir=/var/run/cloud-sql-proxy -instances={{ cloudsql_connection_name }}=tcp:3306
Restart=always
StandardOutput=journal
User={{ cloudsql_srvc_user_name }}

[Install]
WantedBy=multi-user.target
